{% extends "layout.njk" %}

{% block title %}Home Â· Slim Bitcoin Explorer{% endblock %}
{% block page_id %}home{% endblock %}

{% block content %}
  <div class="card">
    <form class="search" action="/search" method="get">
      <input id="global-search" type="text" name="q" placeholder="Block height, hash, txid, address, or xpub" required>
      <button type="submit">Search</button>
    </form>
  </div>

  <div class="card grid two">
    <div>
      <h2>Chain Tip</h2>
      <p><strong>Chain:</strong> <span id="tip-chain">{{ summary.chain | upper }}</span></p>
      <p><strong>Height:</strong> <span id="tip-height">{{ summary.height }}</span></p>
      <p><strong>Best Hash:</strong> <code id="tip-hash">{{ summary.bestHash }}</code></p>
    </div>
    <div>
      <h2>Mempool</h2>
      <p><strong>Transactions:</strong> <span id="tip-mempool-txcount">{{ summary.mempool.txCount }}</span></p>
      <p><strong>Bytes:</strong> <span id="tip-mempool-bytes">{{ summary.mempool.bytes }}</span></p>
    </div>
  </div>

  <div class="card">
    <h2>Fee Estimates (estimatesmartfee)</h2>
    <table>
      <thead>
        <tr>
          <th>Target (blocks)</th>
          <th>Fee (BTC/kvB)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td id="tip-fee-1">{{ summary.feeEstimates['1'] or 'n/a' }}</td>
        </tr>
        <tr>
          <td>3</td>
          <td id="tip-fee-3">{{ summary.feeEstimates['3'] or 'n/a' }}</td>
        </tr>
        <tr>
          <td>6</td>
          <td id="tip-fee-6">{{ summary.feeEstimates['6'] or 'n/a' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
{% endblock %}
